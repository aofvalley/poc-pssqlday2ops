### Dump and restore database
POST http://localhost:7071/api/workflow/dump-restore HTTP/1.1
Content-Type: application/json

{
  "pg_host_prod": "advpsqlfxuk",
  "pg_host_dev": "advpsqlfxukdev",
  "pg_database": "test01",
  "pg_user": "alfonsod",
  "resource_group": "adv_data_rg"
}

### Dump and restore database (Function Apps)
POST https://pgdumprestore.azurewebsites.net/api/workflow/dump-restore HTTP/1.1
Content-Type: application/json

{
  "pg_host_prod": "advpsqlfxuk",
  "pg_host_dev": "advpsqlfxukdev",
  "pg_database": "test01",
  "pg_user": "alfonsod",
  "resource_group": "adv_data_rg"
}

### Check detailed workflow status (latest run)
GET http://localhost:7071/api/workflow/status HTTP/1.1

### Check detailed workflow status (specific run)
GET http://localhost:7071/api/workflow/status?run_id=12345678 HTTP/1.1

### Health check with system diagnostics
GET http://localhost:7071/api/health HTTP/1.1

### Ver configuración actual
GET http://localhost:7071/api/config HTTP/1.1

### cURL examples

# Health check
curl http://localhost:7071/api/health

# Ver configuración
curl http://localhost:7071/api/config

# Execute PostgreSQL dump and restore
curl -X POST http://localhost:7071/api/workflow/dump-restore \
  -H "Content-Type: application/json" \
  -d '{
    "pg_host_prod": "advpsqlfxuk",
    "pg_host_dev": "advpsqlfxukdev",
    "pg_database": "test01",
    "pg_user": "alfonsod",
    "resource_group": "adv_data_rg"
  }'

# Check detailed status of latest workflow run
curl http://localhost:7071/api/workflow/status

# Check detailed status of a specific workflow run
curl http://localhost:7071/api/workflow/status?run_id=12345678


### cURL Function Apps examples

# Health check
curl https://pgdumprestore.azurewebsites.net/api/health

# Ver configuración
curl https://pgdumprestore.azurewebsites.net/api/config

# Execute PostgreSQL dump and restore
curl -X POST https://pgdumprestore.azurewebsites.net/api/workflow/dump-restore \
  -H "Content-Type: application/json" \
  -d '{
    "pg_host_prod": "advpsqlfxuk",
    "pg_host_dev": "advpsqlfxukdev",
    "pg_database": "test01",
    "pg_user": "alfonsod",
    "resource_group": "adv_data_rg"
  }'

# Check detailed status of latest workflow run
curl https://pgdumprestore.azurewebsites.net/api/workflow/status

# Check detailed status of a specific workflow run
curl https://pgdumprestore.azurewebsites.net/api/workflow/status?run_id=12345678